---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';
import { t } from '../../i18n/translations';
import '../../styles/global.css';

const lang = 'fr';
const base = import.meta.env.BASE_URL;

const phases = [
  {
    num: 1,
    color: 'text-[#780000]',
    bgColor: 'bg-[#780000]',
    borderColor: 'border-[#780000]',
    slug: 'literature-review',
    icon: 'book'
  },
  {
    num: 2,
    color: 'text-[#003049]',
    bgColor: 'bg-[#003049]',
    borderColor: 'border-[#003049]',
    slug: 'experimental-design',
    icon: 'flask'
  },
  {
    num: 3,
    color: 'text-[#780000]',
    bgColor: 'bg-[#780000]',
    borderColor: 'border-[#780000]',
    slug: 'trial-set-optimization',
    icon: 'chart'
  },
  {
    num: 4,
    color: 'text-[#669bbc]',
    bgColor: 'bg-[#669bbc]',
    borderColor: 'border-[#669bbc]',
    slug: 'implementation',
    icon: 'code'
  },
  {
    num: 5,
    color: 'text-[#003049]',
    bgColor: 'bg-[#003049]',
    borderColor: 'border-[#003049]',
    slug: 'data-collection',
    icon: 'users'
  },
];
---

<Layout title="Parcours de Recherche | Himalaya Girard">
  <Navigation lang={lang} currentPath="/fr/journey" spacerBg="bg-[#003049]" />

  <main class="min-h-screen bg-[#FFF9ED] relative">
    <!-- Beige Background Grid -->
    <div class="absolute inset-0 opacity-5 pointer-events-none z-0">
      <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <pattern id="grid-beige" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#003049" stroke-width="1"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid-beige)" />
      </svg>
    </div>
    <!-- Hero Section -->
    <section class="relative py-32 px-6 bg-[#003049] overflow-hidden">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-10 pointer-events-none">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <pattern id="grid-journey" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#FFF9ED" stroke-width="1"/>
          </pattern>
          <rect width="100%" height="100%" fill="url(#grid-journey)" />
        </svg>
      </div>

      <div class="max-w-4xl mx-auto text-center relative z-10">
        <div class="inline-block px-4 py-2 bg-[#FFF9ED]/10 text-[#FFF9ED] rounded-lg text-sm font-bold uppercase tracking-widest mb-6 border border-[#FFF9ED]/20 backdrop-blur-sm">
          Aper√ßu du Processus
        </div>
        <h1 class="font-figtree text-5xl md:text-7xl font-bold text-[#FFF9ED] mb-8 leading-tight tracking-tight">
          {t('process.title', lang)}
        </h1>
        <p class="font-figtree text-xl text-[#FFF9ED]/80 leading-relaxed max-w-2xl mx-auto font-light">
          {t('process.subtitle', lang)}
        </p>
      </div>
    </section>

    <!-- Timeline Section -->
    <section class="py-24 px-6 relative overflow-hidden">
      <!-- Central Line -->
      <div class="absolute left-8 md:left-1/2 top-0 bottom-0 w-0.5 bg-[#003049]/10 md:-translate-x-1/2"></div>

      <div class="max-w-6xl mx-auto relative">
        {phases.map((phase, index) => (
          <div class={`flex flex-col md:flex-row items-center gap-8 md:gap-24 mb-24 last:mb-0 ${index % 2 === 1 ? 'md:flex-row-reverse' : ''}`}>
            
            <!-- Content Card -->
            <div class="w-full md:w-1/2 pl-16 md:pl-0 relative">
              <!-- Mobile Dot -->
              <div class={`md:hidden absolute left-6 top-8 w-4 h-4 rounded-full bg-[#FFF9ED] border-4 ${phase.borderColor} z-10 -translate-x-1/2`}></div>

              <a href={`${base}fr/journey/${phase.slug}`} class="block group relative perspective-1000">
                <div class={`bg-[#FFF9ED] p-8 rounded-2xl shadow-xl border-2 ${phase.borderColor}/10 hover:${phase.borderColor} transition-all duration-500 transform group-hover:-translate-y-2 group-hover:shadow-2xl relative overflow-hidden`}>
                  <!-- Hover Gradient -->
                  <div class={`absolute inset-0 ${phase.bgColor} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}></div>

                  <!-- Icon & Number -->
                  <div class="flex justify-between items-start mb-6 relative z-10">
                    <!-- Circle -->

                    <div class={`w-16 h-16 ${phase.bgColor}/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500`}>
                      {phase.icon === 'book' && (
                        <svg class={`w-8 h-8 ${phase.color}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                      )}
                      {phase.icon === 'flask' && (
                        <svg class={`w-8 h-8 ${phase.color}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                        </svg>
                      )}
                      {phase.icon === 'chart' && (
                        <svg class={`w-8 h-8 ${phase.color}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                      )}
                      {phase.icon === 'code' && (
                        <svg class={`w-8 h-8 ${phase.color}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                        </svg>
                      )}
                      {phase.icon === 'users' && (
                        <svg class={`w-8 h-8 ${phase.color}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                      )}
                    </div>
                    <span class={`font-figtree text-5xl font-black ${phase.color}/10 absolute top-0 right-0`}>0{phase.num}</span>
                  </div>
                  
                  <div class="relative z-10">
                    <span class={`font-figtree text-xs font-bold ${phase.color} uppercase tracking-widest mb-2 block`}>
                      {t(`process.step${phase.num}.period`, lang)}
                    </span>
                    <h3 class={`font-figtree text-2xl font-bold text-[#003049] mb-4 group-hover:${phase.color} transition-colors`}>
                      {t(`process.step${phase.num}.title`, lang)}
                    </h3>
                    <p class="font-figtree text-[#003049]/70 mb-8 leading-relaxed">
                      {t(`process.step${phase.num}.desc`, lang)}
                    </p>

                    <div class={`flex items-center font-bold text-sm uppercase tracking-wider ${phase.color} group-hover:gap-3 transition-all`}>
                      Explorer la Phase 
                      <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                      </svg>
                    </div>
                  </div>
                </div>
              </a>
            </div>

            <!-- Desktop Dot -->
            <div class={`hidden md:block absolute left-1/2 w-6 h-6 rounded-full bg-[#FFF9ED] border-4 ${phase.borderColor} z-10 -translate-x-1/2`}></div>

            <!-- Empty Space for Zig-Zag -->
            <div class="hidden md:block w-1/2"></div>
          </div>
        ))}
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="py-12 px-6 bg-[#003049] text-[#FFF9ED]">
    <div class="max-w-4xl mx-auto text-center">
      <p class="font-figtree text-lg mb-4 font-semibold">Himalaya Girard</p>
      <p class="font-figtree text-[#669bbc] mb-6">{t('footer.position', lang)}</p>
      <div class="flex justify-center gap-6">
        <a href="mailto:himalaya.girard@donders.ru.nl" class="font-figtree hover:text-[#780000] transition-colors">
          Email
        </a>
        <a href="https://www.linkedin.com/in/himalaya-girard" target="_blank" rel="noopener" class="font-figtree hover:text-[#780000] transition-colors">
          LinkedIn
        </a>
      </div>
      <p class="font-figtree text-sm text-[#669bbc]/70 mt-8">
        {t('footer.rights', lang)}
      </p>
    </div>
  </footer>
</Layout>
